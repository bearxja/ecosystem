
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Apache NiFi Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="Using_Kettle_8.0&8.1_with_FusionInsight_HD_C80SPC200.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    FusionInsight Ecosystem
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../Business_Intelligence/">
            
                <a href="../Business_Intelligence/">
            
                    
                    Data Analysis
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" >
            
                <span>
            
                    
                    SAS (TBD)
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" >
            
                <span>
            
                    
                    IBM SPSS (TBD)
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" >
            
                <span>
            
                    
                    IBM Cognos (TBD)
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="../Business_Intelligence/Using_Alteryx_with_FusionInsight.html">
            
                <a href="../Business_Intelligence/Using_Alteryx_with_FusionInsight.html">
            
                    
                    Alteryx
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.5" data-path="../Business_Intelligence/Using_Tableau_with_FusionInsight.html">
            
                <a href="../Business_Intelligence/Using_Tableau_with_FusionInsight.html">
            
                    
                    Tableau
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.6" data-path="../Business_Intelligence/Using_QlikView_with_FusionInsight.html">
            
                <a href="../Business_Intelligence/Using_QlikView_with_FusionInsight.html">
            
                    
                    QlikView
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.7" data-path="../Business_Intelligence/Using_Oracle_BIEE_with_FusionInsight.html">
            
                <a href="../Business_Intelligence/Using_Oracle_BIEE_with_FusionInsight.html">
            
                    
                    Oracle BIEE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.8" data-path="../Business_Intelligence/Using_RapidMiner_with_FusionInsight.html">
            
                <a href="../Business_Intelligence/Using_RapidMiner_with_FusionInsight.html">
            
                    
                    RapidMiner
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9" >
            
                <span>
            
                    
                    Yonghong BI (TBD)
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="./">
            
                <a href="./">
            
                    
                    Data Integration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="Using_IBM_InfoSphere_DataStage_with_FusionInsight.html">
            
                <a href="Using_IBM_InfoSphere_DataStage_with_FusionInsight.html">
            
                    
                    IBM InfoSphere DataStage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" >
            
                <span>
            
                    
                    IBM InfoSphere CDC (TBD)
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="Using_Oracle_GoldenGate_with_FusionInsight.html">
            
                <a href="Using_Oracle_GoldenGate_with_FusionInsight.html">
            
                    
                    Oracle GoldenGate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.4" >
            
                <span>
            
                    
                    informatica (TBD)
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.5" data-path="Using_Talend_with_FusionInsight.html">
            
                <a href="Using_Talend_with_FusionInsight.html">
            
                    
                    Talend
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.6" data-path="Using_Kettle_with_FusionInsight.html">
            
                <a href="Using_Kettle_with_FusionInsight.html">
            
                    
                    Kettle
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.6.1" data-path="Using_Kettle_6.1_with_FusionInsight_HD_C60U10.html">
            
                <a href="Using_Kettle_6.1_with_FusionInsight_HD_C60U10.html">
            
                    
                    Kettle6.1 <-> FusionInsight HD V100R002C60U20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.6.2" data-path="Using_Kettle_8.0&8.1_with_FusionInsight_HD_C80SPC200.html">
            
                <a href="Using_Kettle_8.0&8.1_with_FusionInsight_HD_C80SPC200.html">
            
                    
                    Kettle8.0&8.1 <-> FusionInsight HD V100R002C70SPC100
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="2.2.7" data-path="Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200.html">
            
                <a href="Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200.html">
            
                    
                    Apache NiFi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.8" >
            
                <span>
            
                    
                    Primeton MetaCube (TBD)
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.9" >
            
                <span>
            
                    
                    Unimas UTL (TBD)
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../Integrated_Development_Environment/">
            
                <a href="../Integrated_Development_Environment/">
            
                    
                    Integrated Development
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="../Integrated_Development_Environment/Using_RStudio_with_FusionInsight.html">
            
                <a href="../Integrated_Development_Environment/Using_RStudio_with_FusionInsight.html">
            
                    
                    RStudio
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="../Integrated_Development_Environment/Using_Zeppelin_with_FusionInsight_HD.html">
            
                <a href="../Integrated_Development_Environment/Using_Zeppelin_with_FusionInsight_HD.html">
            
                    
                    Apache Zeppelin
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.2.1" data-path="../Integrated_Development_Environment/Using_Zeppelin_0.7.2_with_FusionInsight_HD_C60U20.html">
            
                <a href="../Integrated_Development_Environment/Using_Zeppelin_0.7.2_with_FusionInsight_HD_C60U20.html">
            
                    
                    Zeppelin0.7.2 <-> FusionInsight HD V100R002C60U20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2.2" data-path="../Integrated_Development_Environment/Using_Zeppelin_0.7.3_with_FusionInsight_HD_C70SPC100.html">
            
                <a href="../Integrated_Development_Environment/Using_Zeppelin_0.7.3_with_FusionInsight_HD_C70SPC100.html">
            
                    
                    Zeppelin0.7.3 <-> FusionInsight HD V100R002C70SPC100
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2.3" data-path="../Integrated_Development_Environment/Using_Zeppelin_0.8.0_with_FusionInsight_HD_C80SPC200.html">
            
                <a href="../Integrated_Development_Environment/Using_Zeppelin_0.8.0_with_FusionInsight_HD_C80SPC200.html">
            
                    
                    Zeppelin0.8.0 <-> FusionInsight HD V100R002C80SPC200
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="../Integrated_Development_Environment/Using_Jupyter_Notebook_with_FusionInsight.html">
            
                <a href="../Integrated_Development_Environment/Using_Jupyter_Notebook_with_FusionInsight.html">
            
                    
                    Jypyter Notebook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.4" data-path="../Integrated_Development_Environment/Using_DBeaver_with_FusionInsight.html">
            
                <a href="../Integrated_Development_Environment/Using_DBeaver_with_FusionInsight.html">
            
                    
                    DBeaver
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.5" data-path="../Integrated_Development_Environment/Using_DbVisualizer_with_FusionInsight.html">
            
                <a href="../Integrated_Development_Environment/Using_DbVisualizer_with_FusionInsight.html">
            
                    
                    DbVisualizer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.6" data-path="../Integrated_Development_Environment/Using_Squirrel_with_FusionInsight.html">
            
                <a href="../Integrated_Development_Environment/Using_Squirrel_with_FusionInsight.html">
            
                    
                    Squirrel
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../SQL_Analytics_Engine/">
            
                <a href="../SQL_Analytics_Engine/">
            
                    
                    SQL Analysis
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="../SQL_Analytics_Engine/Using_Kylin_with_FusionInsight.html">
            
                <a href="../SQL_Analytics_Engine/Using_Kylin_with_FusionInsight.html">
            
                    
                    Apache Kylin
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1.1" data-path="../SQL_Analytics_Engine/Using_Kylin1.6.0_with_FusionInsight_HD_C60U20.html">
            
                <a href="../SQL_Analytics_Engine/Using_Kylin1.6.0_with_FusionInsight_HD_C60U20.html">
            
                    
                    Kylin 1.6.0 <-> C60U20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.1.2" data-path="../SQL_Analytics_Engine/Using_Kylin2.1.0_with_FusionInsight_HD_C70.html">
            
                <a href="../SQL_Analytics_Engine/Using_Kylin2.1.0_with_FusionInsight_HD_C70.html">
            
                    
                    Kylin 2.1.0 <-> C70
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.1.3" data-path="../SQL_Analytics_Engine/Using_Kylin2.3.1_with_FusionInsight_HD_C80.html">
            
                <a href="../SQL_Analytics_Engine/Using_Kylin2.3.1_with_FusionInsight_HD_C80.html">
            
                    
                    Kylin 2.3.1 <-> C80
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="../SQL_Analytics_Engine/Using_Kyligence_with_FusionInsight.html">
            
                <a href="../SQL_Analytics_Engine/Using_Kyligence_with_FusionInsight.html">
            
                    
                    Kyligence
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.3" data-path="../SQL_Analytics_Engine/Using_Presto_with_FusionInsight.html">
            
                <a href="../SQL_Analytics_Engine/Using_Presto_with_FusionInsight.html">
            
                    
                    Presto
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.3.1" data-path="../SQL_Analytics_Engine/Using_Presto0.155_with_FusionInsight_HD_C60U20.html">
            
                <a href="../SQL_Analytics_Engine/Using_Presto0.155_with_FusionInsight_HD_C60U20.html">
            
                    
                    Presto0.146 <-> C60U20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.3.2" data-path="../SQL_Analytics_Engine/Using_Presto0.184_with_FusionInsight_HD_C70SPC100.html">
            
                <a href="../SQL_Analytics_Engine/Using_Presto0.184_with_FusionInsight_HD_C70SPC100.html">
            
                    
                    Presto0.184 <-> C70SPC100
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../Database/">
            
                <a href="../Database/">
            
                    
                    Database
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.5.1" >
            
                <span>
            
                    
                    SAP HANA (TBD)
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../Other/">
            
                <a href="../Other/">
            
                    
                    Other
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.6.1" data-path="../Other/Using_FUSE_with_FusionInsight.html">
            
                <a href="../Other/Using_FUSE_with_FusionInsight.html">
            
                    
                    FUSE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.2" data-path="../Other/Using_GIS_Tools_for_Hadoop_with_FusionInsight.html">
            
                <a href="../Other/Using_GIS_Tools_for_Hadoop_with_FusionInsight.html">
            
                    
                    Gis-Tools-For-Hadoop
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.3" data-path="../Other/Using_Livy_with_FusionInsight.html">
            
                <a href="../Other/Using_Livy_with_FusionInsight.html">
            
                    
                    Apache Livy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.4" >
            
                <span>
            
                    
                    IBM WAS (TBD)
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Apache NiFi</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="connection-instruction-between-apache-nifi-and-fusioninsight">Connection Instruction between Apache NiFi and FusionInsight</h1>
<h2 id="succeeded-case">Succeeded Case</h2>
<blockquote>
<p>Apache NiFi 1.7.1 &lt;--&gt; FusionInsight HD V100R002C80SPC200</p>
</blockquote>
<h2 id="installing-apache-nifi">Installing Apache NiFi</h2>
<h3 id="purpose">Purpose</h3>
<p>Installing Apache NiFi 1.7.1</p>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li>Installing FusionInsight HD cluster and its client completed</li>
</ul>
<h3 id="procedure">Procedure</h3>
<ul>
<li>Get JAVA_HOME configuration by execute <strong>source</strong> command on client side<pre><code>source /opt/hadoopclient/bigdata_env
echo $JAVA_HOME
</code></pre><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912165818271.png" alt=""></li>
</ul>
<ul>
<li><p>Download NiFi installation file from <code>https://nifi.apache.org/download.html</code>, move the file to client side by using tool <strong>WinSCP</strong> , execute command <code>unzip nifi-1.7.1-bin.zip</code> to unzip the installation file to the following directory <code>/usr/nifi/nifi-1.7.1</code></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912160728825.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Configure NiFi server IP address and port by execute following command <code>vi /usr/nifi/nifi-1.7.1/conf/nifi.properties</code> and adjust the propeties within the <strong>nifi.properties</strong> file</p>
<pre><code>nifi.web.http.host=172.16.52.190
nifi.web.http.port=8085
</code></pre><p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912163428506.png" alt=""></p>
</li>
<li><p>Start and Stop NiFi server</p>
<pre><code>cd /usr/nifi/nifi-1.7.1
bin/nifi.sh start
bin/nifi.sh stop
</code></pre><p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-2018091216532553.png" alt=""></p>
</li>
<li><p>Start NiFi Server</p>
<p><code>bin/nifi.sh start</code></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912170131362.png" alt=""></p>
</li>
</ul>
<h2 id="configuring-kerberos-authentication-within-nifi">Configuring Kerberos authentication within NiFi</h2>
<h3 id="purpose">Purpose</h3>
<p>Configuring Kerberos authentication within NiFi server for the later connection usage</p>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li><p>Installing Apache NiFi completed</p>
</li>
<li><p>Installing FusionInsight HD cluster and its client completed</p>
</li>
<li><p>Create a developuser for connection</p>
</li>
</ul>
<h3 id="procedure">Procedure</h3>
<ul>
<li>Download the required Kerberos authentication files <code>user.keytab</code> and <code>krb5.conf</code> from FusionInsight HD Manager site, save the files into the following directory <code>/opt/developuser</code></li>
</ul>
<ul>
<li><p>Configure Kerberos authentication  by execute following command <code>vi /usr/nifi/nifi-1.7.1/conf/nifi.properties</code> and adjust the propeties within the <strong>nifi.properties</strong> file</p>
<pre><code>Detailed Configuration&#xFF1A;
nifi.kerberos.krb5.file=/opt/developuser/krb5.conf
nifi.kerberos.service.principal=developuser
nifi.kerberos.service.keytab.location=/opt/developuser/user.keytab
</code></pre><p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912171916975.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Enter NiFi Web UI site, right click on canvas and click on <strong>Configure</strong> icon</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912174115953.png" alt=""></p>
<p>Click on <strong>plus</strong> icon to add the service</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912174226784.png" alt=""></p>
<p>Find <code>KeytabCredentialsService</code> and click <strong>ADD</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-2018091217444348.png" alt=""></p>
<p>Click on <strong>gear</strong> icon to configure</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912174747644.png" alt=""></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-2018091217482271.png" alt=""></p>
<p>Click on <strong>lightning</strong> icon to enable and save the KeytabCredentialsService</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912174904147.png" alt=""></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912175037790.png" alt=""></p>
</li>
<li><p>Completed
<img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912175122322.png" alt=""></p>
</li>
</ul>
<h2 id="connecting-nifi-to-hdfs">Connecting NiFi to HDFS</h2>
<h3 id="purpose">Purpose</h3>
<p>Configuring NiFi related HDFS processor to connect FusionInsight HD HDFS</p>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li><p>Installing NiFi 1.7.1 completed</p>
</li>
<li><p>Installing FusionInsight HD cluster and its client completed</p>
</li>
<li><p>Configuring Kerberos authentication within NiFi completed</p>
</li>
</ul>
<h3 id="puthdfs-procedure">PutHDFS Procedure</h3>
<ul>
<li>Find and Copy the <code>hdfs-site.xml</code>&#xFF0C;<code>core-site.xml</code> files which located in FusionInsight HD client to the following directory <code>/usr/nifi/nifi-1.7.1/conf</code></li>
</ul>
<ul>
<li><p>Make an adjustment to the content of <code>hdfs-site.xml</code> that is to delete the following property</p>
<pre><code>&lt;property&gt;
&lt;name&gt;dfs.client.failover.proxy.provider.hacluster&lt;/name&gt;
&lt;value&gt;org.apache.hadoop.hdfs.server.namenode.ha.BlackListingFailoverProxyProvider&lt;/value&gt;
&lt;/property&gt;
</code></pre></li>
<li><p>Make an adjustment to the content of <code>core-site.xml</code> that is to change <strong>halcluster</strong> into detailed namenode ip with its port</p>
<pre><code>&lt;property&gt;
&lt;name&gt;fs.defaultFS&lt;/name&gt;
&lt;value&gt;hdfs://172.21.3.102:25000&lt;/value&gt;
&lt;/property&gt;
</code></pre></li>
</ul>
<ul>
<li><p>The whole process shown as the following pic:</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912172755668.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of processor <strong>GetFile</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912172954559.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1: /home/dataset
</code></pre></li>
<li><p>The configuration of processor <strong>PutHDFS</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912181011524.png" alt=""></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912175441819.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1: /usr/nifi/nifi-1.7.1/conf/hdfs-site.xml,/usr/nifi/nifi-1.7.1/conf/core-site.xml
2: Choose KeytabCredentialsService which was completed in previous section
3: /tmp/nifitest
</code></pre></li>
</ul>
<ul>
<li><p>The configuration of the connection between two former processors</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912181110245.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Move the file <code>nifiHDFS.csv</code> into the following directory <code>/home/dataset</code> before test start</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-2018091218142008.png" alt=""></p>
<p>Content of <code>nifiHDFS.csv</code>&#xFF1A;</p>
<pre><code>1;EcitQU
2;Hyy6RC
3;zju1jR
4;R9fex9
5;EU2mVq
</code></pre></li>
<li><p>Test completed</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912181628255.png" alt=""></p>
<p>Log into FusionInsight HDFS to check the test outcome by using the following command</p>
<p><code>hdfs dfs -cat /tmp/nifitest/nifiHDFS.csv</code></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912181828621.png" alt=""></p>
</li>
</ul>
<h3 id="gethdfs-procedure">GetHDFS Procedure</h3>
<ul>
<li><p>The whole process shown as the following pic:</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913092152648.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of processor <strong>GetHDFS</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913093359126.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1: /usr/nifi/nifi-1.7.1/conf/hdfs-site.xml,/usr/nifi/nifi-1.7.1/conf/core-site.xml
2: Choose KeytabCredentialsService which was completed in previous section
3: /tmp/nifitest/HDFS
</code></pre></li>
</ul>
<ul>
<li><p>The configuration of processor <strong>PutFile</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913092500227.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1: /home/dataset/HDFS
</code></pre><p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913092557712.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Move the file <code>nifiHDFS.csv</code> into HDFS directory <code>/tmp/nifitest/HDFS</code></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913093946472.png" alt=""></p>
</li>
<li><p>Test completed</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913094130431.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Log into the FusionInsight HD client side to check the outcome with the directory <code>/home/dataset/HDFS</code></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913094327358.png" alt=""></p>
</li>
</ul>
<h3 id="listhdfs--fetchhdfs-procedure">ListHDFS &amp; FetchHDFS Procedure</h3>
<ul>
<li><p>The whole process shown as the following pic:</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913101752826.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of processor <strong>ListHDFS</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913102631618.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1. /usr/nifi/nifi-1.7.1/conf/hdfs-site.xml,/usr/nifi/nifi-1.7.1/conf/core-site.xml
2. KeytabCredentialsService
3. /tmp/nifitest
</code></pre></li>
</ul>
<ul>
<li><p>The configuration of processor <strong>RouteOnAttribute</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-2018091310313577.png" alt=""></p>
<p>Note: Add one customized property <code>requiredfilenames</code> with the value <code>${filename:matches(&apos;sanguo.*&apos;)}</code> by clicking on <strong>plus</strong> icon</p>
<pre><code>In detail&#xFF1A;
1. Route to Property name
2. requiredfilenames
3. ${filename:matches(&apos;sanguo.*&apos;)}
</code></pre></li>
</ul>
<ul>
<li><p>The relationship configuration between processor <strong>RouteOnAttribute</strong> and upper processor <strong>FetchHDFS</strong> shown as the following pic</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913103920309.png" alt=""></p>
</li>
<li><p>The relationship configuration between processor <strong>RouteOnAttribute</strong> and lower processor <strong>FetchHDFS</strong> shown as the following pic</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913103937690.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of processor <strong>FetchHDFS</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913104044399.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1. /usr/nifi/nifi-1.7.1/conf/hdfs-site.xml,/usr/nifi/nifi-1.7.1/conf/core-site.xml
2. KeytabCredentialsService
</code></pre></li>
</ul>
<ul>
<li><p>The configuration of upper processor <strong>PutFile</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913104357511.png" alt=""></p>
</li>
<li><p>The configuration of lower processor <strong>PutFile</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913104436582.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Check the files on FusionInsight HDFS by executing command <code>hdfs dfs -ls /tmp/nifitest</code></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913105052385.png" alt=""></p>
</li>
<li><p>Test completed</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913105440238.png" alt=""></p>
<p>Log into FusionInsight HD client side to check the outcomes separately</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913105716184.png" alt=""></p>
</li>
</ul>
<h2 id="connecting-nifi-to-hive">Connecting NiFi to Hive</h2>
<h3 id="purpose">Purpose</h3>
<p>Configuring NiFi Hive processor to connect FusionInsight HD Hive</p>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li><p>Installing NiFi 1.7.1 completed</p>
</li>
<li><p>Installing FusionInsight HD cluster and its client completed</p>
</li>
<li><p>Configuring Kerberos authentication within NiFi completed</p>
</li>
</ul>
<h3 id="hiveconnectionpool-procedure">HiveConnectionPool Procedure</h3>
<ul>
<li><p>Enter NiFi Web UI site, right click on canvas and click on <strong>Configure</strong> icon</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912174115953.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Click on <strong>plus</strong> icon to add the service</p>
<p>  <img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912174226784.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Find <code>HiveConnectionPool</code> and click <strong>ADD</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913111208294.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Click on <strong>gear</strong> icon to configure</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913111250616.png" alt=""></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913111431623.png" alt=""></p>
<pre><code>In detail
1: jdbc:hive2://172.21.3.103:24002,172.21.3.101:24002,172.21.3.102:24002/;serviceDiscoveryMode=zooKeeper;principal=hive/hadoop.hadoop.com@HADOOP.COM
2: KeytabCredentialsService
</code></pre></li>
<li><p>Click on <strong>lightning</strong> icon to enable and save the HiveConnectionPool</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913111645264.png" alt=""></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913111723364.png" alt=""></p>
</li>
<li><p>Completed
<img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913111757929.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Create <code>jaas.conf</code> file which located at directory <code>/usr/nifi/nifi-1.7.1/conf</code> wit the following content</p>
<pre><code>Client {
com.sun.security.auth.module.Krb5LoginModule required
useKeyTab=true
keyTab=&quot;/opt/developuser/user.keytab&quot;
principal=&quot;developuser&quot;
useTicketCache=false
storeKey=true
debug=true;
};
</code></pre></li>
</ul>
<ul>
<li><p>Make an adjustment to the <code>bootstrap.conf</code> file by executing following command <code>vi /usr/nifi/nifi-1.7.1/conf/bootstrap.conf</code></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913114735353.png" alt=""></p>
<pre><code>java.arg.17=-Djava.security.auth.login.config=/usr/nifi/nifi-1.7.1/conf/jaas.conf
java.arg.18=-Dsun.security.krb5.debug=true
</code></pre></li>
</ul>
<ul>
<li><p>Make an adjustment to the <code>nifi.properties</code> file by executing following command <code>vi /usr/nifi/nifi-1.7.1/conf/nifi.properties</code></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913115135676.png" alt=""></p>
<pre><code>nifi.zookeeper.auth.type=sasl
nifi.zookeeper.kerberos.removeHostFromPrincipal=true
nifi.zookeeper.kerberos.removeRealmFromPrincipal=true
</code></pre></li>
</ul>
<ul>
<li><p>Execute the following command to come into the directory of  NiFi Hive related library
<code>cd /usr/nifi/nifi-1.7.1/work/nar/extensions/nifi-hive-nar-1.7.1.nar-unpacked/META-INF/bundled-dependencies</code></p>
<p>Substitute <code>zookeeper-3.5.1.jar</code> which is from FusionInsight HD client side for the original <code>zookeeper-3.4.6.jar</code></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-2018091312062027.png" alt=""></p>
</li>
</ul>
<h3 id="selecthiveql-read-hive-table-procedure">SelectHiveQL read Hive table Procedure</h3>
<ul>
<li><p>The whole process shown as the following pic:</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-2018091312072896.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of processor <strong>SelectHiveQL</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913120825568.png" alt=""></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913121003311.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1: HiveConnectionPool
2: select * from default.t2
3. CSV
</code></pre></li>
</ul>
<ul>
<li><p>The configuration of processor <strong>PutFile</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913121155239.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Log into FusionInsight cluster to check table <strong>t2</strong> on hive</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-2018091312133394.png" alt=""></p>
</li>
<li><p>Completed</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913121452543.png" alt=""></p>
<p>Check the outcome by log into the following directory <code>/home/dataset/HIVE</code></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913121747276.png" alt=""></p>
</li>
</ul>
<h3 id="puthiveql-load-whole-table-procedure">PutHiveQL load whole table Procedure</h3>
<ul>
<li><p>The whole process shown as the following pic:</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913144112926.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of processor <strong>GetFile</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913145536626.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1&#xFF1A; /home/dataset/
2: iris.txt
</code></pre><p>Content of <code>iris.txt</code>&#xFF1A;</p>
<pre><code>1,5.1,3.5,1.4,0.2,setosa
2,4.9,3,1.4,0.2,setosa
3,4.7,3.2,1.3,0.2,setosa
4,4.6,3.1,1.5,0.2,setosa
5,5,3.6,1.4,0.2,setosa
6,5.4,3.9,1.7,0.4,setosa
7,4.6,3.4,1.4,0.3,setosa
8,5,3.4,1.5,0.2,setosa
9,4.4,2.9,1.4,0.2,setosa
10,4.9,3.1,1.5,0.1,setosa
</code></pre></li>
</ul>
<ul>
<li><p>The configuration of processor <strong>PutHDFS</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913145851111.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1&#xFF1A; /usr/nifi/nifi-1.7.1/conf/hdfs-site.xml,/usr/nifi/nifi-1.7.1/conf/core-site.xml
2&#xFF1A; KeytabCredentialsService
3: /tmp/nifitest/loadhive
</code></pre></li>
</ul>
<ul>
<li><p>The configuration of processor <strong>ReplaceText</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913150058238.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1: CREATE TABLE IF NOT EXISTS iris_createdBy_NiFi ( ID string, sepallength FLOAT, sepalwidth FLOAT, petallength FLOAT, petalwidth FLOAT, species string ) ROW FORMAT DELIMITED FIELDS TERMINATED BY &apos;,&apos; STORED AS TEXTFILE;LOAD DATA INPATH &quot;hdfs:///tmp/nifitest/loadhive/iris.txt&quot; into table iris_createdBy_NiFi;
</code></pre></li>
</ul>
<ul>
<li><p>The configuration of processor <strong>PutHiveQL</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913150303396.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Move the data file <code>iris.txt</code> into the following directory <code>/home/dataset/</code> before test</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913150605645.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Completed:</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913144501255.png" alt=""></p>
<p>Login the HIVE to check the test outcome</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913145436548.png" alt=""></p>
</li>
</ul>
<h3 id="puthiveql-load-the-table-by-rows-procedure">PutHiveQL Load the table by rows Procedure</h3>
<ul>
<li><p>The whole process shown as the following pic:</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913152255705.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of processor <strong>GetFile</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913154003755.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1&#xFF1A; /home/dataset/
2&#xFF1A; iris_add.txt
</code></pre><p>Content of <code>iris_add.txt</code>&#xFF1A;</p>
<pre><code>&quot;11&quot;,5.8,2.8,5.1,2.4,&quot;virginica&quot;
&quot;12&quot;,6.4,3.2,5.3,2.3,&quot;virginica&quot;
&quot;13&quot;,6.5,3,5.5,1.8,&quot;virginica&quot;
&quot;14&quot;,5.7,3,4.2,1.2,&quot;versicolor&quot;
&quot;15&quot;,5.7,2.9,4.2,1.3,&quot;versicolor&quot;
</code></pre></li>
</ul>
<ul>
<li><p>The configuration of processor <strong>SplitText</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913154219909.png" alt=""></p>
</li>
</ul>
<ul>
<li>There is no change for the configuration of  processor <strong>ExtractText</strong></li>
</ul>
<ul>
<li><p>The configuration of processor <strong>ReplaceText</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913154421612.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of processor <strong>PutHiveQL</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913154500461.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Move the data file <code>iris_add.txt</code> into the following directory <code>/home/dataset/</code> before test</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913152411341.png" alt=""></p>
</li>
<li><p>Completed&#xFF1A;</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-2018091315371178.png" alt=""></p>
<p>Login the HIVE to check the test outcome&#xFF1A;</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913153858212.png" alt=""></p>
</li>
</ul>
<h2 id="connecting-nifi-to-hbase">Connecting NiFi to HBase</h2>
<h3 id="purpose">Purpose</h3>
<p>Configuring NiFi HBase processor to connect FusionInsight HD HBase</p>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li><p>Installing NiFi 1.7.1 completed</p>
</li>
<li><p>Installing FusionInsight HD cluster and its client completed</p>
</li>
<li><p>Configuring Kerberos authentication within NiFi completed</p>
</li>
</ul>
<h3 id="hbase112clientservice-procedure">HBase_1_1_2_ClientService Procedure</h3>
<ul>
<li>Move the hbase related configuration file <code>hbase-site.xml</code> which is within the FusionInsight HD client side into the following directory <code>/usr/nifi/nifi-1.7.1/conf</code></li>
</ul>
<ul>
<li><p>Execute the following command to come into the directory of  NiFi HBase related library
<code>cd /usr/nifi/nifi-1.7.1/work/nar/extensions/nifi-hbase_1_1_2-client-service-nar-1.7.1.nar-unpacked/META-INF/bundled-dependencies</code></p>
<p>Substitute <code>zookeeper-3.5.1.jar</code> which is from FusionInsight HD client side for the original <code>zookeeper-3.4.6.jar</code></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913171320336.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Enter NiFi Web UI site, right click on canvas and click on <strong>Configure</strong> icon</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912174115953.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Click on <strong>plus</strong> icon to add the service</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913160637627.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Find <code>HBase_1_1_2_ClientService</code> and click <strong>ADD</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913160755948.png" alt=""></p>
</li>
<li><p>Click on <strong>gear</strong> icon to configure</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913160901190.png" alt=""></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913161005377.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1&#xFF1A; /usr/nifi/nifi-1.7.1/conf/hbase-site.xml,/usr/nifi/nifi-1.7.1/conf/core-site.xml
2&#xFF1A; KeytabCredentialsService
</code></pre></li>
<li><p>Click on <strong>lightining</strong> icon to enable and save the <code>HBase_1_1_2_ClientService</code></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913161345190.png" alt=""></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913161410495.png" alt=""></p>
</li>
<li><p>Completed</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913161431790.png" alt=""></p>
</li>
</ul>
<h3 id="puthbasejson-load-the-table-procedure">PutHBaseJSON load the table Procedure</h3>
<ul>
<li><p>The whole process shown as the following pic:</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913170925283.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of  processor <strong>GetFile</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913171543197.png" alt=""></p>
<p>Content of <code>hbase_test.csv</code>&#xFF1A;</p>
<pre><code>1,5.1,3.5,setosa
2,6.1,3.6,versicolor
3,7.1,3.7,virginica
</code></pre></li>
</ul>
<ul>
<li><p>The configuration of processor <strong>InverAvroSchema</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913171824677.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1: flowfile-attribute
2: csv
3: false
4: hbase_test_data
</code></pre></li>
</ul>
<ul>
<li><p>The configuration of  processor <strong>ConvertCSVToAvro</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913172037547.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of  processor <strong>ConvertAvroToJSON</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913172201962.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of  processor <strong>SplitJson</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913172242678.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of  processor <strong>PutHBaseJSON</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913172428386.png" alt=""></p>
<pre><code>In detail:
1: HBase_1_1_2_ClientService
2: hbase_test
3: ${UUID()}
4: data
</code></pre></li>
</ul>
<ul>
<li><p>Move the data file <code>hbase_test.csv</code> into the following directory <code>/home/dataset/HBASE</code> before test</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913173017728.png" alt=""></p>
<p>In addition, execute following command to create a HBase table</p>
<pre><code>hbase shell
create &apos;HBase_test&apos;,&apos;data&apos;
</code></pre><p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913173220335.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Completed&#xFF1A;</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913173552752.png" alt=""></p>
<p>Login into the FusionInsight HD cluster to check the outcome:</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913173626203.png" alt=""></p>
</li>
</ul>
<h3 id="gethbase-procedure">GetHbase Procedure</h3>
<ul>
<li><p>The whole process shown as the following pic:</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913174304746.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of  processor <strong>GetHBase</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913190606193.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of  processor <strong>PutFile</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913191235986.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Completed</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913184243562.png" alt=""></p>
<p>Login into the following directory <code>/home/dataset/GetHBase_test</code> to check the test outcome</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180913191317245.png" alt=""></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-2018091319144054.png" alt=""></p>
</li>
</ul>
<h2 id="connecting-nifi-to-spark">Connecting NiFi to Spark</h2>
<h3 id="purpose">Purpose</h3>
<p>Configuring NiFi Livy Session processor to connect FusionInsight HD Spark</p>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li><p>Installing NiFi 1.7.1 completed</p>
</li>
<li><p>Installing FusionInsight HD cluster and its client completed</p>
</li>
<li><p>Configuring Kerberos authentication within NiFi completed</p>
</li>
<li><p>Installing and configuring Apache Livy 0.5.0 (Apache Livy can be installed on test host or any other host as long as they can connect to each other including FusionInsight HD cluster)</p>
<blockquote>
<p>There exist connection instruction between Apache Livy and FusionInsight, please check the FusionInsight ecosystem</p>
</blockquote>
</li>
</ul>
<h3 id="livysessioncontroller-procedure">LivySessionController Procedure</h3>
<ul>
<li><p>Enter NiFi Web UI site, right click on canvas and click on <strong>Configure</strong> icon</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180912174115953.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Click on <strong>plus</strong> icon to add the service</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914104314385.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Find <code>LivySessionController</code> and click <strong>ADD</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914104402554.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>Click on <strong>gear</strong> icon to configure</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914104516173.png" alt=""></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914104844258.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1: 172.21.3.43 (host ip for Apache Livy)
2: 8998 (Livy default port, can be changed)
3: spark
4&#xFF1A;KeytabCredentialsService
</code></pre></li>
</ul>
<ul>
<li><p>Click on <strong>plus</strong> icon to add the service</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914105344782.png" alt=""></p>
</li>
<li><p>Find <code>LivySessionController</code> and click <strong>ADD</strong></p>
</li>
<li><p>Click on <strong>gear</strong> icon to configure</p>
</li>
</ul>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914105516219.png" alt=""></p>
<p>  Change the name of Controller as LivySessionController_PySpark</p>
<p>  <img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914105554293.png" alt=""></p>
<p>  <img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914105725237.png" alt=""></p>
<pre><code>  In detail&#xFF1A;
  1: 172.21.3.43 (host ip for Apache Livy)
  2: 8998 (Livy default port, can be changed)
  3: pysaprk
  4&#xFF1A;KeytabCredentialsService
</code></pre><ul>
<li>Click on <strong>plus</strong> icon to add the service</li>
</ul>
<ul>
<li>Find <code>LivySessionController</code> and click <strong>ADD</strong></li>
</ul>
<ul>
<li><p>Click on <strong>gear</strong> icon to configure</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914110218855.png" alt=""></p>
<p>Change the name of Controller as LivySessionController_SparkR</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914110258706.png" alt=""></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-2018091411040356.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1: 172.21.3.43 (host ip for Apache Livy)
2: 8998 (Livy default port, can be changed)
3: sparkr
4&#xFF1A;KeytabCredentialsService
</code></pre></li>
</ul>
<ul>
<li><p>Click on <strong>lightining</strong> icon to enable and save the <code>LivySessionController</code>,<code>LivySessionController_PySpark</code>,<code>LivySessionController_SparkR</code></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914110556918.png" alt=""></p>
</li>
<li><p>Completed</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914110811125.png" alt=""></p>
</li>
</ul>
<h3 id="spark-sample-procedure">Spark Sample Procedure</h3>
<ul>
<li><p>The whole process shown as the following pic:</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-2018091411101510.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of  processor <strong>GetFile</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914111127853.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1: /home/dataset/sparkTest
2: code1.txt
</code></pre><p>Content of <code>code1.txt</code>&#xFF1A;</p>
<pre><code>1+2
</code></pre></li>
<li><p>The configuration of  processor <strong>ExtractText</strong></p>
<p>Click <strong>plus</strong> icon to add a Property <code>code1</code> with its Value as <code>$</code></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914111426277.png" alt=""></p>
</li>
<li><p>The configuration of  processor <strong>ExecuteSparkInteractive</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914112305396.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1: LivySessionController
2: ${code1}
</code></pre></li>
</ul>
<ul>
<li><p>Move the code file <code>code1.txt</code> into the following directory <code>/home/dataset/sparkTest</code> before test</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914112519376.png" alt=""></p>
<p>Start the Livy server</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914112716361.png" alt=""></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914112911901.png" alt=""></p>
</li>
<li><p>Completed&#xFF1A;</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914113055754.png" alt=""></p>
<p>Log into the Livy server to check the outcome</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-2018091411321312.png" alt=""></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914113341172.png" alt=""></p>
</li>
</ul>
<h3 id="pyspark-sample-procedure">PySpark Sample Procedure</h3>
<ul>
<li><p>The whole process shown as the following pic:</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-2018091411101510.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of  processor <strong>GetFile</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914113725733.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1: /home/dataset/sparkTest
2: code2.txt
</code></pre><p>Content of <code>code2.txt</code>&#xFF1A;</p>
<pre><code>import random
NUM_SAMPLES = 100000
def sample(p):
  x, y = random.random(), random.random()
  return 1 if x*x + y*y &lt; 1 else 0

count = sc.parallelize(xrange(0, NUM_SAMPLES)).map(sample).reduce(lambda a, b: a + b)
print &quot;Pi is roughly %f&quot; % (4.0 * count / NUM_SAMPLES)
</code></pre></li>
<li><p>The configuration of  processor <strong>ExtractText</strong></p>
<p>Click <strong>plus</strong> icon to add a Property <code>code2</code> with its Value as <code>$</code></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914114234899.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of  processor <strong>ExecuteSparkInteractive</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914114342416.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1: LivySessionController_PySpark
2: ${code2}
</code></pre></li>
<li><p>Move the code file <code>code2.txt</code> into the following directory <code>/home/dataset/sparkTest</code> before test</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914114447497.png" alt=""></p>
<p>Start the Livy server</p>
</li>
<li><p>Completed</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914114625750.png" alt=""></p>
<p>Log into the Livy server to check the outcome</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914114724621.png" alt=""></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914114751933.png" alt=""></p>
</li>
</ul>
<h3 id="sparkr-sample-procedure">SparkR Sample Procedure</h3>
<ul>
<li><p>The whole process shown as the following pic:</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914141610219.png" alt=""></p>
<p>Note: It&apos;s different by comparing to example of former Spark and PySpark</p>
</li>
</ul>
<ul>
<li><p>The configuration of  processor <strong>GetFile</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914115049131.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1: /home/dataset/sparkTest
2: code3.txt
</code></pre><p>Content of <code>code3.txt</code>&#xFF1A;</p>
<pre><code>piR &lt;- function(N) {
    x &lt;- runif(N)
    y &lt;- runif(N)
    d &lt;- sqrt(x^2 + y^2)
    return(4 * sum(d &lt; 1.0) / N)
}

set.seed(5)
cat(&quot;Pi is roughly &quot;,piR(1000000) )
</code></pre></li>
</ul>
<ul>
<li><p>The configuration of  processor <strong>ExecuteSparkInteractive</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-2018091414274959.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1: /home/dataset/sparkTest
2: code content of code3.txt
</code></pre></li>
</ul>
<ul>
<li><p>Move the code file <code>code3.txt</code> into the following directory <code>/home/dataset/sparkTest</code> before test</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914115356781.png" alt=""></p>
<p>Start the Livy server</p>
</li>
</ul>
<ul>
<li><p>Completed</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914142925868.png" alt=""></p>
<p>Log into the Livy server to check the outcome</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914115708776.png" alt=""></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914143029264.png" alt=""></p>
</li>
</ul>
<h2 id="connecting-nifi-to-kafka">Connecting NiFi to Kafka</h2>
<h3 id="purpose">Purpose</h3>
<p>Configuring NiFi Kafka processor to connect FusionInsight HD Kafka</p>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li><p>Installing NiFi 1.7.1 completed</p>
</li>
<li><p>Installing FusionInsight HD cluster and its client completed</p>
</li>
<li><p>Configuring Kerberos authentication within NiFi completed</p>
</li>
</ul>
<h3 id="gethttp--putkafka-procedure">GetHTTP &amp; PutKafka Procedure</h3>
<ul>
<li><p>The whole process shown as the following pic:</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914143620412.png" alt=""></p>
</li>
<li><p>The configuration of  processor <strong>GetHTTP</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914143715990.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1: http://vincentarelbundock.github.io/Rdatasets/csv/datasets/iris.csv
2: iris.csv
</code></pre></li>
<li><p>The configuration of  processor <strong>PutKafka</strong>
<img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914143959710.png" alt=""></p>
<pre><code>In detail&#xFF1A;
1&#xFF1A; 172.21.3.102:21005,172.21.3.101:21005,172.21.3.103:21005
2&#xFF1A; nifi-kafka-test-demo
3&#xFF1A; nifi
</code></pre></li>
</ul>
<ul>
<li><p>Before test&#xFF1A;</p>
<p>Log into the Kafka component within FusionInsightHD client side and create a Topic <strong>nifi-kafka-test-demo</strong></p>
<pre><code>cd /opt/hadoopclient/Kafka/kafka/bin
kafka-topics.sh --create --topic nifi-kafka-test-demo --zookeeper 172.21.3.101:24002,172.21.3.102:24002,172.21.3.103:24002/kafka --partitions 1 --replication-factor 1
</code></pre><p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914144534988.png" alt=""></p>
</li>
<li><p>Completed&#xFF1A;</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914144743959.png" alt=""></p>
<p>Log into the kafka component within FusionInsightHD client side to check the outcome</p>
<pre><code>cd /opt/hadoopclient/Kafka/kafka/bin
kafka-console-consumer.sh --zookeeper 172.21.3.101:24002,172.21.3.102:24002,172.21.3.103:24002/kafka --topic nifi-kafka-test-demo --from-beginning
</code></pre><p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914144952375.png" alt=""></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914145017685.png" alt=""></p>
</li>
</ul>
<h3 id="consumekafka011-procedure">ConsumeKafka_0_11 Procedure</h3>
<ul>
<li><p>The whole process shown as the following pic:</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914150029910.png" alt=""></p>
</li>
</ul>
<ul>
<li><p>The configuration of  processor <strong>ConsumeKafka_0_11</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914145920740.png" alt=""></p>
<pre><code>1: 172.21.3.101:21005,172.21.3.102:21005,172.21.3.103:21005
2: PLAINTEXT
3: KeytabCredentialsService
4: Kafka
5: example-metric1
6: DemoConsumer
</code></pre></li>
</ul>
<ul>
<li><p>The configuration of  processor <strong>PutFile</strong></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914150709577.png" alt=""></p>
</li>
<li><p>Before test&#xFF1A;</p>
<p>Open the <code>kafka-examples</code> which provided by FusionInsightHD client in eclipse, configure the <code>kafka-examples</code> so that it can be successfully ran and produce messages to kafka</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914151040410.png" alt=""></p>
<p>Note: There must be a producer when testing the NiFi ConsumeKafka_0_11 processor, run <code>NewProducer.java</code> within <code>kafka-examples</code> at first and then start to test NiFi ConsumeKafka_0_11</p>
</li>
<li><p>Completed&#xFF1A;</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914151449716.png" alt=""></p>
<p>Log into the follow directory <code>/home/dataset/Kafka</code> to check the test outcome</p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914151628975.png" alt=""></p>
<p><img src="assets/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200/markdown-img-paste-20180914151713272.png" alt=""></p>
</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Using_Kettle_8.0&8.1_with_FusionInsight_HD_C80SPC200.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Kettle8.0&8.1 <-> FusionInsight HD V100R002C70SPC100">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Apache NiFi","level":"2.2.7","depth":2,"next":{"title":"Primeton MetaCube (TBD)","level":"2.2.8","depth":2,"ref":"","articles":[]},"previous":{"title":"Kettle8.0&8.1 <-> FusionInsight HD V100R002C70SPC100","level":"2.2.6.2","depth":3,"path":"Data_Integration/Using_Kettle_8.0&8.1_with_FusionInsight_HD_C80SPC200.md","ref":"Data_Integration/Using_Kettle_8.0&8.1_with_FusionInsight_HD_C80SPC200.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Data_Integration/Using_Nifi_1.7.1_with_FusionInsight_HD_C80spc200.md","mtime":"2018-09-26T06:58:35.630Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-09-26T07:07:31.068Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

